(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{38389:function(e,t,s){Promise.resolve().then(s.bind(s,35839)),Promise.resolve().then(s.bind(s,404)),Promise.resolve().then(s.bind(s,1723)),Promise.resolve().then(s.bind(s,76656)),Promise.resolve().then(s.t.bind(s,68326,23))},27134:function(e,t,s){"use strict";s.d(t,{Jr:function(){return Check},K5:function(){return ArrowDown},ol:function(){return ArrowRight},v3:function(){return Plus}});var n=s(57437);let ArrowDown=()=>(0,n.jsx)("svg",{width:"11",height:"7",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M1 1l4.228 4.228L9.456 1",stroke:"#7C5DFA",strokeWidth:"2",fill:"none",fillRule:"evenodd"})}),ArrowRight=()=>(0,n.jsx)("svg",{width:"7",height:"10",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M1 1l4 4-4 4",stroke:"#7C5DFA",strokeWidth:"2",fill:"none",fillRule:"evenodd"})}),Check=()=>(0,n.jsx)("svg",{width:"10",height:"8",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M1.5 4.5l2.124 2.124L8.97 1.28",stroke:"#FFF",strokeWidth:"2",fill:"none",fillRule:"evenodd"})}),Plus=()=>(0,n.jsx)("svg",{width:"11",height:"11",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M6.313 10.023v-3.71h3.71v-2.58h-3.71V.023h-2.58v3.71H.023v2.58h3.71v3.71z",fill:"#7C5DFA",fillRule:"nonzero"})})},35839:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return facturen_InvoiceCard}});var n,a,r,i,l=s(57437),d=s(61396),o=s.n(d),c=s(68912),u=s(95729);(n=r||(r={}))[n.NET1=1]="NET1",n[n.NET7=7]="NET7",n[n.NET14=14]="NET14",n[n.NET30=30]="NET30",(a=i||(i={})).NET1="Net 1 Day",a.NET7="Net 7 Days",a.NET14="Net 14 Days",a.NET30="Net 30 Days";var p=s(27134);s(2265);var facturen_StatusBadge=e=>{let{status:t}=e;return(0,l.jsxs)("div",{className:"row-span-2 sm:row-span-1 flex justify-center items-center px-4 py-2.5 capitalize rounded-md\n                  ".concat("pending"===t&&"text-[#FF8F00] bg-[#FF8F00]/5","\n                  ").concat("draft"===t&&"dark:text-[#DFE3FA] dark:bg-[#DFE3FA]/5 text-[#373B53] bg-[#373B53]/5","\n                  ").concat("paid"===t&&"text-[#33D69F] bg-[#33D69F]/5"),children:[(0,l.jsx)("span",{className:"inline-block mr-3 h-2 w-2 rounded-full\n                    ".concat("pending"===t&&"bg-[#FF8F00]","\n                    ").concat("draft"===t&&"bg-[#373B53] dark:bg-[#DFE3FA]","\n                    ").concat("paid"===t&&"bg-[#33D69F]")}),(0,l.jsx)("span",{className:"pt-1",children:t})]})},helpers_getShortId=e=>{let t=e.length;return e.substring(t-6,t)},facturen_InvoiceCard=e=>{let{invoice:t}=e,s=(0,u.Z)(new Date(t.invoiceDate),{days:r[t.paymentTerm]}),n="PENDING"===t.status?"pending":"DRAFT"===t.status?"draft":"paid";return(0,l.jsxs)(o(),{href:"/invoices/".concat(t.id),className:"w-full bg-white dark:bg-[#1E2139] grid-cols-2 sm:grid-cols-[50px_110px_repeat(3,1fr)_20px] grid md:grid-cols-[80px_120px_repeat(3,1fr)_20px] items-center py-6 sm:py-4 px-6 md:px-8 rounded-md font-medium text-sm text-primary gap-1 sm:gap-4",children:[(0,l.jsxs)("div",{className:"mb-6 font-bold uppercase sm:mb-0",children:[(0,l.jsx)("span",{className:"text-[#7E88C3]",children:"#"}),helpers_getShortId(t.id)]}),(0,l.jsxs)("span",{className:"text-[#7E88C3] dark:text-[#DFE3FA]",children:["Due ",(0,c.Z)(s,"dd MMM yyyy")]}),(0,l.jsx)("span",{className:"mb-6 sm:mb-0 col-start-2 row-start-1 justify-self-end sm:justify-self-start sm:col-auto sm:row-auto text-[#858BB2] dark:text-[#FFFFFF]",children:t.clientName}),(0,l.jsxs)("span",{className:"col-start-1 row-start-3 text-base font-bold sm:col-auto sm:row-auto md:pr-5 sm:justify-self-end",children:["$ ",t.total]}),(0,l.jsx)(facturen_StatusBadge,{status:n}),(0,l.jsx)("span",{className:"justify-center hidden sm:flex",children:(0,l.jsx)(p.ol,{})})]})}},404:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return shared_EmptyState}});var n=s(57437),a=s(16691),r=s.n(a),i={src:"/_next/static/media/illustration-empty.7369fe97.svg",height:200,width:242,blurWidth:0,blurHeight:0},shared_Button=e=>{let{ariaLabel:t,label:s,type:a,onClick:r,disabled:i,icon:l,base:d,grey:o,purple:c,red:u,darkGrey:p,customGrey:h,stretch:x}=e;return(0,n.jsxs)("button",{"aria-label":t,onClick:r,disabled:i,type:a||"button",className:"relative flex gap-4 items-center justify-center px-5 sm:px-6 py-4 text-xs font-bold capitalize rounded-full transition disabled:cursor-not-allowed disabled:bg-opacity-50 disabled:hover:bg-opacity-50\n        ".concat(d&&"text-[#7E88C3] bg-baseBg hover:bg-baseBgHover","\n        ").concat(u&&"text-white bg-[#ec5757] hover:bg-[#FF9797]","\n        ").concat(c&&"text-white bg-[#7C5DFA] hover:bg-[#9277FF]","\n        ").concat(o&&"text-[#7E88C3] dark:text-[#DFE3FA] bg-defaultBg hover:bg-defaultHoverBg","\n        ").concat(p&&"text-secondary bg-grey hover:bg-greyHover","\n        ").concat(h&&"text-secondary bg-greyCustom hover:bg-greyCustomHover","\n        ").concat(x&&"w-full","\n        ").concat(l&&"sm:pl-12","\n      "),children:[l&&(0,n.jsx)(l,{size:32,className:"absolute left-0 ml-2"}),s]})},l=s(24033),shared_EmptyState=e=>{let{title:t,subtitle:s,showReset:a}=e,d=(0,l.useRouter)();return(0,n.jsx)("div",{className:"self-center flex-1 w-full overflow-y-auto",children:(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,n.jsx)("div",{className:"mb-16 mt-6 w-[220px] sm:w-[240px]",children:(0,n.jsx)(r(),{src:i,priority:!0,alt:"Illustration"})}),(0,n.jsx)("h2",{className:"text-[20px] font-bold text-primary mb-4 w-[220px] sm:w-[240px] text-center",children:t}),(0,n.jsx)("p",{className:"text-sm font-medium text-center text-secondary mb-6 w-[220px] sm:w-[240px]",children:s}),a&&(0,n.jsx)(shared_Button,{purple:!0,label:"Go to Home Page",onClick:()=>d.push("/")})]})})}},1723:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return shared_HeaderControls}});var n=s(57437),a=s(2265),r=s(27134),i=s(24033),l=s(37220),Check=e=>{let{id:t,label:s,checked:d}=e,o=(0,i.useRouter)(),c=(0,i.useSearchParams)(),u=(0,a.useCallback)(()=>{let e={};c&&(e=l.Z.parse(c.toString()));let t={...e};(null==c?void 0:c.get(s))==="false"?delete t[s]:t="draft"===s?{...e,draft:!1}:"pending"===s?{...e,pending:!1}:{...e,paid:!1};let n=l.Z.stringifyUrl({url:"/",query:t},{skipNull:!0});o.push(n)},[s,c,o]);return(0,n.jsxs)("label",{className:"relative text-xs font-bold capitalize cursor-pointer text-primary",htmlFor:t,children:[(0,n.jsx)("input",{className:"absolute w-0 h-0 opacity-0 cursor-pointer peer",id:t,type:"checkbox",checked:d,onChange:u}),(0,n.jsx)("div",{className:"block absolute top-0 left-0 h-4 w-4 bg-[#DFE3FA] dark:bg-[#1E2139] border border-transparent hover:border-[#7C5DFA] rounded transition peer-checked:border-[#7C5DFA] peer-checked:bg-[#7C5DFA]"}),(0,n.jsx)("div",{className:"absolute hidden top-[3px] left-[2.5px] peer-checked:block",children:(0,n.jsx)(r.Jr,{})}),(0,n.jsx)("span",{className:"pl-7",children:s})]})},shared_Filter=()=>{let e=(0,i.useSearchParams)(),[t,s]=(0,a.useState)(!1),l=null==e?void 0:e.get("draft"),d=null==e?void 0:e.get("pending"),o=null==e?void 0:e.get("paid");return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("button",{onClick:()=>s(!t),className:"flex items-center gap-4 p-4 text-xs font-bold sm:px-6 sm:py-4 text-primary",children:[(0,n.jsxs)("span",{children:["Filter ",(0,n.jsx)("span",{className:"hidden sm:inline",children:"by status"})]}),(0,n.jsx)("span",{className:"".concat(t&&"rotate-180"),children:(0,n.jsx)(r.K5,{})})]}),t&&(0,n.jsxs)("div",{className:"w-[192px] absolute flex flex-col gap-4 p-6 mt-1 -translate-x-1/2 rounded left-1/2 bottom-100 mt- shadow-customShadow bg-popupBg",children:[(0,n.jsx)(Check,{label:"draft",id:"draft",checked:!l}),(0,n.jsx)(Check,{label:"pending",id:"pending",checked:!d}),(0,n.jsx)(Check,{label:"paid",id:"paid",checked:!o})]})]})},d=s(8587);let o=d.I0;var c=s(35014),u=s(92173),p=s(5925);let h=(0,c.hg)("invoice/createInvoice",async e=>{let t=await u.Z.post("/api/invoices",e);return t.data}),x=(0,c.hg)("invoice/deleteInvoice",async e=>{let t=await u.Z.delete("/api/invoices/".concat(e));return t.data}),m=(0,c.hg)("invoice/updateStatus",async e=>{let t=await u.Z.post("/api/invoices/".concat(e));return t.data}),g=(0,c.hg)("invoice/updateInvoice",async e=>{let t=await u.Z.patch("/api/invoices/".concat(e.invoiceId),e);return t.data}),f=(0,c.oM)({name:"invoice",initialState:{isOpen:!1,isLoading:!1,isEditing:!1,invoiceToEdit:null},reducers:{onOpen:e=>{e.isOpen=!0},onClose:e=>{e.isOpen=!1,e.isEditing=!1,e.invoiceToEdit=null},onEdit:(e,t)=>{e.isOpen=!0,e.isEditing=!0,e.invoiceToEdit=t.payload}},extraReducers:e=>{e.addCase(h.pending,e=>{e.isLoading=!0}),e.addCase(h.fulfilled,(e,t)=>{e.isLoading=!1,p.Am.success("Invoice is created!"),e.isOpen=!1}),e.addCase(h.rejected,(e,t)=>{e.isLoading=!1,p.Am.error("Something went wrong")}),e.addCase(x.pending,e=>{e.isLoading=!0}),e.addCase(x.fulfilled,(e,t)=>{e.isLoading=!1,p.Am.success("Invoice is deleted!")}),e.addCase(x.rejected,(e,t)=>{e.isLoading=!1,p.Am.error("Something went wrong")}),e.addCase(m.pending,e=>{e.isLoading=!0}),e.addCase(m.fulfilled,(e,t)=>{e.isLoading=!1,p.Am.success("Status is updated!")}),e.addCase(m.rejected,(e,t)=>{e.isLoading=!1,p.Am.error("Something went wrong")}),e.addCase(g.pending,e=>{e.isLoading=!0}),e.addCase(g.fulfilled,(e,t)=>{e.isLoading=!1,p.Am.success("Invoice is updated!"),e.isOpen=!1}),e.addCase(g.rejected,(e,t)=>{e.isLoading=!1,p.Am.error("Something went wrong")})}});f.reducer;let{onOpen:v,onClose:b,onEdit:w}=f.actions;var j=s(82749);let N=(0,c.hg)("loginModal/loginUser",async(e,t)=>{let s=await (0,j.signIn)("credentials",{...e,redirect:!1});return s&&!s.ok?t.rejectWithValue(s.error):s}),y=(0,c.oM)({name:"loginModal",initialState:{isOpen:!1,isLoading:!1},reducers:{onOpen:e=>{e.isOpen=!0},onClose:e=>{e.isOpen=!1}},extraReducers:e=>{e.addCase(N.pending,e=>{e.isLoading=!0}),e.addCase(N.fulfilled,(e,t)=>{e.isLoading=!1,p.Am.success("Welcome back!"),e.isOpen=!1}),e.addCase(N.rejected,(e,t)=>{e.isLoading=!1,p.Am.error(t.payload)})}});y.reducer;let{onOpen:C,onClose:F}=y.actions;var shared_HeaderControls=e=>{let{currentUser:t,numOfInvoices:s}=e,i=o(),l=(0,a.useCallback)(()=>{if(!t)return i(C());i(v())},[t,i]);return(0,n.jsxs)("div",{className:"z-10 flex justify-between",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1 sm:gap-2",children:[(0,n.jsx)("h1",{className:"text-[20px] sm:text-[32px] font-bold text-primary",children:"Invoices"}),(0,n.jsx)("p",{className:"text-xs font-medium text-secondary",children:0===s?"No invoices":"There are ".concat(s," total invoices")})]}),(0,n.jsxs)("div",{className:"flex items-center gap-6 sm:gap-10",children:[(0,n.jsx)(shared_Filter,{}),(0,n.jsxs)("button",{onClick:l,className:"flex gap-2 sm:gap-4 items-center p-1.5 pr-3 sm:p-2 sm:pr-4 text-xs font-bold capitalize rounded-full transition text-white bg-[#7C5DFA] hover:bg-[#9277FF]",children:[(0,n.jsx)("span",{className:"p-2.5 bg-white rounded-full",children:(0,n.jsx)(r.v3,{})}),(0,n.jsxs)("div",{children:["New ",(0,n.jsx)("span",{className:"hidden sm:inline",children:"Invoice"})]})]})]})]})}},76656:function(e,t,s){"use strict";s.r(t),s.d(t,{ScrollArea:function(){return l},ScrollBar:function(){return d}});var n=s(57437),a=s(2265),r=s(25331),i=s(81628);let l=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,n.jsxs)(r.fC,{ref:t,className:(0,i.cn)("relative",s),...l,children:[(0,n.jsx)(r.l_,{className:"h-full w-full rounded-[inherit]",children:a}),(0,n.jsx)(d,{}),(0,n.jsx)(r.Ns,{})]})});l.displayName=r.fC.displayName;let d=a.forwardRef((e,t)=>{let{className:s,orientation:a="vertical",...l}=e;return(0,n.jsx)(r.gb,{ref:t,orientation:a,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,n.jsx)(r.q4,{className:"relative flex-1 rounded-full bg-border"})})});d.displayName=r.gb.displayName},81628:function(e,t,s){"use strict";s.d(t,{cn:function(){return cn},u:function(){return hasDraggableData}});var n=s(57042),a=s(23986);function cn(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m)((0,n.W)(t))}function hasDraggableData(e){if(!e)return!1;let t=e.data.current;return(null==t?void 0:t.type)==="Column"||(null==t?void 0:t.type)==="Task"}}},function(e){e.O(0,[350,210,331,749,691,700,722,971,472,744],function(){return e(e.s=38389)}),_N_E=e.O()}]);